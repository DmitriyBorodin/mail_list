# Сервис управления рассылками

## Описание проекта

Сервис предназначен для управления рассылками, администрирования клиентов и получения статистики о проведенных рассылках. Приложение реализовано на базе Django и включает интерфейсы для работы с рассылками, пользователями и блогом.

## Основные функции

### Работа с рассылками
- **CRUD-механизм для рассылок**:
  - Создание, редактирование, удаление, просмотр списка рассылок.
  - Настройка параметров рассылки:
    - Дата и время начала.
    - Периодичность (раз в день, неделю, месяц).
    - Статус (создана, запущена, завершена).
  - Привязка сообщений и списка клиентов.
- **Статистика рассылок**:
  - Учет попыток доставки.
  - Сбор данных об успешности и неудачах отправки.

### Работа с клиентами
- **CRUD-механизм для клиентов**:
  - Управление контактными данными (email, ФИО, комментарий).

### Отправка сообщений
- Автоматическое начало рассылки в указанное время.
- Обработка ошибок внешнего сервиса отправки сообщений:
  - Повторные попытки в случае ошибок.
  - Защита от зависания системы.

### Блог
- Раздел для публикации статей с возможностью управления через административную панель.
- Поля статьи: заголовок, содержимое, изображение, количество просмотров, дата публикации.
- Кеширование данных блога для ускорения работы.

### Главная страница
- Отображает:
  - Общее количество рассылок.
  - Количество активных рассылок.
  - Количество уникальных клиентов.
  - Три случайные статьи из блога.

### Разделение прав доступа
- **Пользователь**:
  - Управляет только своими рассылками и клиентами.
  - Имеет доступ к созданию, редактированию и удалению своих данных.
- **Менеджер**:
  - Просматривает все рассылки и пользователей.
  - Может блокировать пользователей и отключать рассылки.
  - Не может изменять чужие данные.

### Технологии
- Python 3.9+
- Django 4.x
- PostgreSQL
- Django-crontab или APScheduler (для периодических задач)
- Bootstrap (для интерфейса)
- dotenv (для работы с конфиденциальными данными)
- Кеширование (Memcached или Redis)

## Установка и запуск

1. **Клонирование репозитория:**

   Для начала, клонируйте репозиторий на свою машину и перейдите в папку
   проекта:
   ```bash
   git clone git@github.com:DmitriyBorodin/mail_list.git
   cd mail_list

2. **Настройка виртуального окружения с Poetry:**

   Убедитесь, что у вас установлен Poetry. Если его нет, установите с помощью:

    ```bash
    curl -sSL https://install.python-poetry.org | python3 -
    ```

    Затем установите зависимости проекта:
    
    ```
   poetry install
    ```

4. **Настройка переменных окружения:**

   В корне проекта находится файл .env.sample, который содержит шаблон
   переменных окружения, используемых проектом. Для
   правильной работы платформы создайте файл .env на основе .env.sample и
   настройте его, заполнив нужные значения.

5. **Применение миграций:**

   Примените миграции для создания таблиц в базе данных:

    ```bash
    poetry run python manage.py migrate

6. **Запуск проекта:**

   После настройки базы данных и миграций, запустите сервер разработки:

    ```bash
    poetry run python manage.py runserver
